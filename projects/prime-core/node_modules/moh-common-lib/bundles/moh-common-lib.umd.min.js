!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("zxcvbn"),require("ngx-bootstrap"),require("moment"),require("ngx-mydatepicker"),require("rxjs"),require("rxjs/operators"),require("angular2-uuid"),require("@angular/router"),require("blueimp-load-image"),require("sha1"),require("pdfjs-dist"),require("angular2-text-mask"),require("@angular/forms"),require("@ng-select/ng-select"),require("@angular/core")):"function"==typeof define&&define.amd?define("moh-common-lib",["exports","@angular/common","zxcvbn","ngx-bootstrap","moment","ngx-mydatepicker","rxjs","rxjs/operators","angular2-uuid","@angular/router","blueimp-load-image","sha1","pdfjs-dist","angular2-text-mask","@angular/forms","@ng-select/ng-select","@angular/core"],t):t(e["moh-common-lib"]={},e.ng.common,e.zxcvbn_,e.ngxBootstrap,e.moment_,e.ngxMydatepicker,e.rxjs,e.rxjs.operators,e.angular2Uuid,e.ng.router,e.loadImage_,e.sha1_,e.PDFJS_,e.angular2TextMask,e.ng.forms,e.ngSelect,e.ng.core)}(this,function(e,t,n,r,o,a,l,d,i,s,c,p,u,g,m,h,f){"use strict";var b=function(){function e(){}return e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-core-breadcrumb",template:'<nav class="breadcrumb d-flex justify-content-between horizontal-scroll">\n    <ng-content select="[left]"></ng-content>\n    <ng-content class=\'d-flex\' select="[center]"></ng-content>\n    <ng-content select="[right]"></ng-content>\n</nav>\n',styles:[".breadcrumb{display:flex;justify-content:space-between;background-color:transparent}@media (min-width:992px){.breadcrumb{flex-wrap:nowrap}}.horizontal-scroll{overflow-x:scroll;overflow-y:hidden}.horizontal-scroll::-webkit-scrollbar{background:0 0;height:5px}.horizontal-scroll::-webkit-scrollbar-thumb{background:#5475a7;border-radius:10px}"]}]}],e.ctorParameters=function(){return[]},e}(),y=function(){function e(){this.submitLabel="Continue",this.canContinue=!0,this.isLoading=!1,this.defaultColor=!0,this.btnClick=new f.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.onClick=function(e){return!this.isLoading&&this.canContinue&&this.btnClick.emit(e),e.stopPropagation(),!1},e.decorators=[{type:f.Component,args:[{selector:"common-form-action-bar",template:'<div class="form-action-bar form-bar" [ngClass]="{disabled: !canContinue}">\n    <button class="btn btn-lg {{defaultColor ? \'btn-primary\' : \'btn-secondary\' }} submit"\n            (click)="onClick($event)"\n            [ngClass]="{disabled: !canContinue || isLoading}">\n      <ng-container *ngIf="!isLoading; else loadingSpinner"> {{submitLabel}} </ng-container>\n      \n    </button>\n</div>\n\n<ng-template #loadingSpinner>\n    <i class="fa fa-spinner fa-pulse fa-fw"></i>\n</ng-template>',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],styles:[".form-action-bar{display:flex;justify-content:flex-end;padding:1em;background-color:#cdd9e4;transition:background-color .3s;position:-webkit-sticky;position:sticky;bottom:0;z-index:10;left:5rem;right:5rem}.form-action-bar.disabled{background-color:#d5d9dd}@media (max-width:991.98px){.form-action-bar{left:2.5rem;right:2.5rem}}.submit{min-width:240px}@media (max-width:767.98px){.form-action-bar{left:0;right:0}.submit{min-width:100%}}.btn{white-space:normal!important;word-wrap:break-word}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={submitLabel:[{type:f.Input}],canContinue:[{type:f.Input}],isLoading:[{type:f.Input}],defaultColor:[{type:f.Input}],btnClick:[{type:f.Output}]},e}(),v=function(){function e(){this.layout="default"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-page-framework",template:'<div class="row" [ngSwitch]="layout">\n\n  <ng-container *ngSwitchCase="\'default\'">\n    <div class="col-md-8">\n      <div class="px-lg-4 px-md-3 py-3">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n    <div class="col-md-4 aside-col">\n      <div class=\'pr-lg-5 pr-md-4 py-2\'>\n        <ng-container *ngTemplateOutlet="aside"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n\n  <ng-container *ngSwitchCase="\'double\'">\n    <div class="col-md-6">\n      <div class="px-lg-5 px-md-3 py-3">\n        <ng-container *ngTemplateOutlet="content"></ng-container>\n      </div>\n    </div>\n    <div class="col-md-6">\n      <div class=\'px-lg-5 px-md-3 py-3\'>\n        <ng-container *ngTemplateOutlet="aside"></ng-container>\n      </div>\n    </div>\n  </ng-container>\n\n    <ng-container *ngSwitchCase="\'single\'">\n      <div class="col-md-8 offset-lg-2">\n        <div class="px-lg-5 px-md-3 py-3">\n          <ng-container *ngTemplateOutlet="content"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n\n    <ng-container *ngSwitchCase="\'blank\'">\n      <div class="col-sm-12">\n        <div class="px-lg-5 px-md-3 py-3">\n          <ng-container *ngTemplateOutlet="content"></ng-container>\n        </div>\n      </div>\n    </ng-container>\n</div>\n<ng-container *ngTemplateOutlet="submit"></ng-container>\n\n\n\x3c!-- We use ng-template here to get around a bug with having multiple ng-contents in one template. By default, if there are duplicate ng-contents in a template Angular will select the very first one - even if latter ones are \'removed\' by ngSwitch or ngIf.--\x3e\n<ng-template #content>\n  <ng-content></ng-content>\n</ng-template>\n\n<ng-template #aside>\n    <ng-content select=\'aside\'></ng-content>\n</ng-template>\n\n<ng-template #submit>\n  <ng-content select=\'common-form-action-bar\'></ng-content>\n  <ng-content select=\'common-form-submit-bar\'></ng-content>\n</ng-template>',encapsulation:f.ViewEncapsulation.None,styles:["common-page-framework{background:#fcfcfc;display:block}.h5,h5{font-size:1rem;font-weight:700;margin-bottom:0}p+.h5,p+h5{margin-top:1.5rem}.aside-col aside{background:#f2f2f2;padding:1em;border-radius:5px}@media (min-width:768px){.aside-col aside{margin-top:1rem}}"]}]}],e.propDecorators={layout:[{type:f.Input}]},e}(),w=function(e,t){return(w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function x(e,t){function n(){this.constructor=e}w(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function I(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a["return"])&&n.call(a)}finally{if(o)throw o.error}}return i}var C=function ee(){this.objectId=i.UUID.UUID().toString()},D=n,M=function(t){function e(){var e=t.call(this)||this;return e.label="Password",e.isRequired=!0,e.isDisabled=!1,e.minLen="8",e.maxLen="32",e.showPasswordStrength=!1,e.objectID="password_"+e.objectId,e.passwordChange=new f.EventEmitter,e.blurEvent=new f.EventEmitter,e.hideValue=!0,e.strengthPercentage=0,e.requiredMsgSeg=" is required.",e.minLenMsgSeg1=" must be at least ",e.minLenMsgSeg2=" characters in length.",e.criteriaMsg=" contains invalid characters.",e}return x(e,t),e.prototype.ngOnInit=function(){this.errMsg={required:this.label+this.requiredMsgSeg,minLength:this.label+this.minLenMsgSeg1+this.minLen+this.minLenMsgSeg2,criteria:this.label+this.criteriaMsg},this.errorMessages&&(this.errorMessages.required&&(this.errMsg.required=this.errorMessages.required),this.errorMessages.minLength&&(this.errMsg.minLength=this.errorMessages.minLength),this.errorMessages.criteria&&(this.errMsg.criteria=this.errorMessages.criteria))},e.prototype.ngOnChanges=function(e){e.password&&this.password&&(this.pswdStrength=this.getPasswordStrength(this.password),this.strengthPercentage=(this.pswdStrength+1)/5*100)},e.prototype.setPassword=function(e){this.passwordChange.emit(e)},e.prototype.onInputBlur=function(e){console.log("onBlur: ",event),this.blurEvent.emit(event)},e.prototype.onPaste=function(e){return!1},e.prototype.getPasswordStrength=function(e){return D(e).score},e.decorators=[{type:f.Component,args:[{selector:"common-password",template:'<label class="control-label" for="{{objectID}}">{{label}}</label>\n<input #pswdRef="ngModel"\n       type="{{hideValue? \'password\': \'text\'}}"\n       class="form-control password-field"\n       name="{{objectID}}"\n       id="{{objectID}}"\n       [ngModel]="password"\n       (ngModelChange)="setPassword($event)"\n       (blur)="onInputBlur($event)"\n       [pattern]="pwdCriteria"\n       [required]="isRequired"\n       [minlength]="minLen"\n       [maxlength]="maxLen"\n       [disabled]="isDisabled" />\n<span class="fa fa-fw {{hideValue? \'fa-eye\' : \'fa-eye-slash\'}} password-field-icon"\n      (click)=\'hideValue = !hideValue\'></span>\n<div *ngIf=\'password && showPasswordStrength\'>\n\x3c!-- The progress bar --\x3e\n  <div class="progress password-strength-bar" >\n    <div class="progress-bar {{pswdStrength >= 4? \'bg-success\' : (pswdStrength >= 3? \'bg-warning\' : \'bg-danger\')}}"\n        role="progressbar"\n        [style.width]=\'strengthPercentage + "%"\'\n        [attr.aria-valuenow]="strengthPercentage"\n        aria-valuemin="0"\n        aria-valuemax="100">\n    </div>\n  </div>\n  <span class="password-progress-label {{pswdStrength >= 4? \'text-success\' : (pswdStrength >= 3? \'text-warning\' : \'text-danger\')}}"></span>\n</div>\n\x3c!-- Error messages for component --\x3e\n<div *ngIf="!pswdRef.disabled && (pswdRef.touched || pswdRef.dirty)"\n    role="alert"\n    class=\'error-container\'\n    aria-live="assertive">\n  <div class="text-danger" *ngIf="pswdRef?.errors?.required">\n    {{errMsg.required}}\n  </div>\n  <div class="text-danger" *ngIf="pswdRef?.errors?.minlength">\n      {{errMsg.minLength}}\n  </div>\n  <div class="text-danger" *ngIf="pswdRef?.errors?.pattern && !pswdRef?.errors?.minlength">\n      {{errMsg.criteria}}\n  </div>\n</div>\n\n',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],styles:[".password-field-icon{float:right;margin-left:-25px;margin-top:-25px;margin-right:.5rem;position:relative;z-index:2}.password-field{padding-right:2rem}.password-strength-bar{min-width:0;max-width:75%;height:.5rem;margin-top:1em}.password-progress-label{float:right;margin-left:-15px;margin-top:-15px;position:relative;z-index:2}.password-strength-bar+.text-success::after{content:'Good'}.password-strength-bar+.text-warning::after{content:'OK'}.password-strength-bar+.text-danger::after{content:'Bad'}input{width:100%}input[type=password]::-ms-clear,input[type=password]::-ms-reveal{display:none}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={label:[{type:f.Input}],isRequired:[{type:f.Input}],isDisabled:[{type:f.Input}],password:[{type:f.Input}],pwdCriteria:[{type:f.Input}],minLen:[{type:f.Input}],maxLen:[{type:f.Input}],errorMessages:[{type:f.Input}],showPasswordStrength:[{type:f.Input}],objectID:[{type:f.Input}],passwordChange:[{type:f.Output}],blurEvent:[{type:f.Output}],onPaste:[{type:f.HostListener,args:["document:paste",["$event"]]}]},e}(C),k=function(){function e(e,t){this.router=e,this.cd=t,this.progressSteps=[]}return e.prototype.ngOnInit=function(){var t=this;this.routerEvents$=this.router.events.pipe(d.filter(function(e){return e instanceof s.NavigationEnd}),d.map(function(e){return e.url})).subscribe(function(e){t.activeIndex=t.getActiveIndex(e),t.cd.detectChanges(),t.scrollStepIntoView()}),this.activeIndex=this.getActiveIndex(this.router.url)},e.prototype.ngOnDestroy=function(){this.cd.detach(),this.routerEvents$.unsubscribe()},e.prototype.calculateProgressPercentage=function(){var e=this.progressSteps.length,t=this.activeIndex+1;if(0===e||e<t)return 100;var n=1/(2*e);return Math.round(100*(t/e-n))},e.prototype.getActiveIndex=function(t){return this.progressSteps.findIndex(function(e){return t.includes(e.route)})},e.prototype.scrollStepIntoView=function(){var e=this.steps.toArray()[this.activeIndex],t=document.getElementsByClassName("horizontal-scroll");if(1===t.length)try{t[0].scrollLeft=Math.abs(e.nativeElement.offsetLeft-window.outerWidth/2)}catch(n){}},e.decorators=[{type:f.Component,args:[{selector:"common-wizard-progress-bar",template:'<progressbar\n  [value]="calculateProgressPercentage()"\n  [max]="100"\n  [animate]="true">\n</progressbar>\n\n<div class="step-container" #stepContainer>\n\n  <a #steps *ngFor="let step of progressSteps; let i = index;" [routerLink]="step.route">\n\n    <div class="step" [ngClass]="{active: i === activeIndex}">\n      <span class="step-text">{{step.title}}</span>\n    </div>\n\n  </a>\n\n</div>\n',changeDetection:f.ChangeDetectionStrategy.OnPush,styles:[':host{flex:1;padding:0 2em;min-height:2em;min-width:650px}.step-container{display:flex;justify-content:space-around}progressbar{background-color:#adb5bd;height:.5rem}.step{position:relative;-webkit-transform:translateX(-.5em);transform:translateX(-.5em);margin-top:.25rem}.step:before{content:" ";position:absolute;width:1em;height:1em;border-radius:100%;background:#fff;border:3px solid #036;right:0;left:0;margin:0 auto;bottom:100%}.step:not(.active) .step-text{opacity:.8}.step:not(.active):before{background:#ced4da}.step .step-text{position:absolute;-webkit-transform:translateX(-33%);transform:translateX(-33%);white-space:nowrap;font-size:small}.progress-background{width:100%;background-color:#00f}']}]}],e.ctorParameters=function(){return[{type:s.Router},{type:f.ChangeDetectorRef}]},e.propDecorators={progressSteps:[{type:f.Input}],stepContainer:[{type:f.ViewChild,args:["stepContainer"]}],steps:[{type:f.ViewChildren,args:["steps"]}]},e}(),O=o,E=function(r){function e(e,t){var n=r.call(this)||this;return n.form=e,n.cd=t,n.useCurrentDate=!1,n.required=!0,n.disabled=!1,n.label="Date",n.restrictDate="any",n.dateChange=new f.EventEmitter,n.monthList=["January","February","March","April","May","June","July","August","September","October","November","December"],n}return x(e,r),e.prototype.ngOnInit=function(){this.errorMessages||(this.errorMessages={required:this.label+" is required.",dayOutOfRange:"Invalid "+this.label+".",yearDistantPast:"Invalid "+this.label+".",yearDistantFuture:"Invalid "+this.label+".",noFutureDatesAllowed:"Invalid "+this.label+".",invalidValue:"Invalid "+this.label+"."}),this.useCurrentDate&&(this.date.month=O().month(),this.date.day=O().date(),this.date.year=O().year())},e.prototype.setMonth=function(e){var t=this.getNumericValue(e);this.date&&(this.date.month=t,this.triggerDayValidation(),this.dateChange.emit(this.date))},e.prototype.setDay=function(e){var t=this.getNumericValue(e);this.date&&(this.date.day=t,this.dateChange.emit(this.date))},e.prototype.setYear=function(e){var t=this.getNumericValue(e);this.date&&(this.date.year=t,this.triggerDayValidation(),this.dateChange.emit(this.date))},e.prototype.triggerDayValidation=function(){var e=this;setTimeout(function(){e.form.controls.day&&(e.form.controls.day.updateValueAndValidity(),e.cd.detectChanges())},0)},e.prototype.getNumericValue=function(e){var t=parseInt(e,10);return isNaN(t)?null:t},e.decorators=[{type:f.Component,args:[{selector:"common-date",template:'<fieldset>\n  <legend class="date--legend">{{label}}</legend>\n  <div class="form-group date-row">\n\n    <label class="visuallyhidden" for="month{{objectId}}">Month</label>\n    <select class="form-control monthSelect"\n            id="month{{objectId}}"\n            name="month"\n            [ngModel]="date?.month"\n            (ngModelChange)="setMonth($event)"\n            [disabled]=\'disabled\'\n            #monthRef="ngModel"\n            [required]="required">\n      \x3c!-- We show the blank option so the user can clear out their data.--\x3e\n      <option value="null" label="-- month --" selected [disabled]=\'required\'></option>\n      <option *ngFor="let month of monthList; let i = index;" [value]="i + 1">{{month}}</option>\n    </select>\n\n    <label class="visuallyhidden" for="day{{objectId}}">Day</label>\n    <input type="number"\n           class="form-control dayInput"\n           id="day{{objectId}}"\n           name="day"\n           placeholder="day"\n           [ngModel]="date?.day"\n           (ngModelChange)="setDay($event)"\n           #dayRef="ngModel"\n           [required]="required"\n           commonDateFieldFormat\n           commonDayValidation\n           [disabled]=\'disabled\'\n           maxlength="2" />\n\n    <label class="visuallyhidden" for="year{{objectId}}">Year</label>\n    <input type="number"\n           class="form-control yearInput"\n           id="year{{objectId}}"\n           name="year"\n           placeholder="year"\n           [ngModel]="date?.year"\n           (ngModelChange)="setYear($event)"\n           #yearRef="ngModel"\n           [required]="required"\n           commonDateFieldFormat\n           [commonYearValidate]="restrictDate"\n           [disabled]=\'disabled\'\n           maxlength="4" />\n\n  </div>\n\n</fieldset>\n\n\x3c!-- Error messages for component --\x3e\n<div *ngIf="!disabled && (monthRef.touched || monthRef.dirty) && (dayRef.touched || dayRef.dirty) && (yearRef.touched || yearRef.dirty)"\n    role="alert"\n    class=\'error-container\'\n    aria-live="assertive">\n  <div class="text-danger"\n       *ngIf="(monthRef?.errors?.required || dayRef?.errors?.required || yearRef?.errors?.required ) && errorMessages?.required">\n       {{errorMessages.required}}\n  </div>\n  <div class="text-danger"\n      *ngIf="dayRef?.errors?.dayOutOfRange && errorMessages?.dayOutOfRange">\n       {{errorMessages.dayOutOfRange}}\n  </div>\n  <div class="text-danger"\n       *ngIf="yearRef?.errors?.yearDistantPast && errorMessages?.yearDistantPast">\n       {{errorMessages.yearDistantPast}}\n  </div>\n  <div class="text-danger"\n       *ngIf="yearRef?.errors?.yearDistantFuture && errorMessages?.yearDistantFuture">\n       {{errorMessages.yearDistantFuture}}\n  </div>\n  <div class="text-danger"\n        *ngIf="yearRef?.errors?.noPastDatesAllowed && errorMessages?.noPastDatesAllowed">\n        {{errorMessages.noPastDatesAllowed}}\n  </div>\n  <div class="text-danger"\n       *ngIf="yearRef?.errors?.noFutureDatesAllowed && errorMessages?.noFutureDatesAllowed">\n       {{errorMessages.noFutureDatesAllowed}}\n  </div>\n  \x3c!-- Case should not happen until something is not formatted correctly--\x3e\n  <div class="text-danger"\n       *ngIf="(dayRef?.errors?.invalidValue || yearRef?.errors?.invalidValue) && errorMessages?.invalidValue">\n       {{errorMessages.invalidValue}}\n  </div>\n</div>\n\n\n',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],styles:[".date--legend{font-size:inherit;font-weight:700}.date-row{display:flex;flex-wrap:nowrap;justify-content:space-between}.monthSelect{max-width:50%;height:35px;margin-right:1em}.dayInput{max-width:25%;height:35px;margin-right:1em}.yearInput{max-width:25%;height:35px}.error-container{flex-basis:100%!important}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}select option[selected]{color:gray!important}"]}]}],e.ctorParameters=function(){return[{type:m.NgForm},{type:f.ChangeDetectorRef}]},e.propDecorators={monthRef:[{type:f.ViewChild,args:["monthRef"]}],dayRef:[{type:f.ViewChild,args:["dayRef"]}],yearRef:[{type:f.ViewChild,args:["yearRef"]}],useCurrentDate:[{type:f.Input}],required:[{type:f.Input}],disabled:[{type:f.Input}],label:[{type:f.Input}],date:[{type:f.Input}],restrictDate:[{type:f.Input}],errorMessages:[{type:f.Input}],dateChange:[{type:f.Output}]},e}(C),F=o,R=function(){function e(){}return e.prototype.validate=function(e){var t=e.parent.value;if(!e.value)return null;var n=parseInt(e.value,10);if(isNaN(n))return{invalidValue:!0};if(!isNaN(t.month)&&!isNaN(t.year)){var r=t.year+"-"+t.month,o=F(r,"YYYY-MM").daysInMonth();if(isNaN(o)&&(o=31),o<n||n<1)return{dayOutOfRange:!0}}return null},e.decorators=[{type:f.Directive,args:[{selector:"[commonDayValidation]",providers:[{provide:m.NG_VALIDATORS,useExisting:f.forwardRef(function(){return e}),multi:!0}]}]}],e}(),S=function(){function e(){this.ngModelChange=new f.EventEmitter(!1)}return e.prototype.onInput=function(e){var t=e.target,n=t.getAttribute("maxlength"),r=t.value.trim();/[^\d]+/.test(t.value)&&(r=r.replace(/[^\d]/g,"")),r=r.substr(0,Number(n)),t.value=r,this.ngModelChange.emit(r)},e.decorators=[{type:f.Directive,args:[{selector:"[commonDateFieldFormat]"}]}],e.propDecorators={ngModelChange:[{type:f.Output}],onInput:[{type:f.HostListener,args:["input",["$event"]]}]},e}(),T=o,z=function(){function e(){}return e.prototype.validate=function(e){var t=e.parent.value;if(!e.value)return null;var n=parseInt(e.value,10);if(isNaN(n))return{invalidValue:!0};var r=T().get("y");if(150<r-n)return{yearDistantPast:!0};if(150<n-r)return{yearDistantFuture:!0};if(this.commonYearValidate&&"any"!==this.commonYearValidate&&!isNaN(t.day)&&!isNaN(t.month)){var o=T({year:n,month:t.month,day:t.day}).diff(T(),"days",!0);if(o<-1&&"future"===this.commonYearValidate)return{noPastDatesAllowed:!0};if(-1<=o&&"past"===this.commonYearValidate)return{noFutureDatesAllowed:!0}}return null},e.decorators=[{type:f.Directive,args:[{selector:"[commonYearValidate]",providers:[{provide:m.NG_VALIDATORS,useExisting:f.forwardRef(function(){return e}),multi:!0}]}]}],e.propDecorators={commonYearValidate:[{type:f.Input}]},e}(),P=function(){function e(){this.size=q.DEFAULT,this.dateChange=new f.EventEmitter,this.required=!1,this.clearButton="visible",this.dateFormat="yyyy/mm/dd",this.DatepickerSizes=q,this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.convertDateToSimpleDate=function(e){return null===e||e===undefined?null:{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()}},e.prototype.convertSimpleDateToDate=function(e){return 0===e.year?null:new Date(e.year,e.month-1,e.day)},e.prototype.isDate=function(e){return!!e&&e.getDate!==undefined},e.prototype.ngOnInit=function(){if(this.errorMessages||(this.errorMessages={required:this.labelText+" is required.",dayOutOfRange:"Invalid "+this.labelText+".",yearDistantPast:"Invalid "+this.labelText+".",yearDistantFuture:"Invalid "+this.labelText+".",noFutureDatesAllowed:"Invalid "+this.labelText+".",invalidValue:"Invalid "+this.labelText+"."}),this.datepickerOptions={dateFormat:this.dateFormat,sunHighlight:!1,appendSelectorToBody:!0},this.size===q.MINI&&(this.datepickerOptions.selectorHeight="185px",this.datepickerOptions.selectorWidth="201px"),this.isDate(this.disableSince)&&(this.datepickerOptions.disableSince=this.convertDateToSimpleDate(this.disableSince)),this.isDate(this.disableUntil)&&(this.datepickerOptions.disableUntil=this.convertDateToSimpleDate(this.disableSince)),this.onlyFutureDates){var e=new Date;this.datepickerOptions.disableUntil=this.convertDateToSimpleDate(e)}console.log("Datepicker ngOnInit",this.date),this.date&&(this.model={jsdate:this.date})},e.prototype.ngOnChanges=function(e){null===this.date&&(this.clearDate(),this._onChange(null),this._onTouched())},e.prototype.onDateChanged=function(e){(e.jsdate||null===e.jsdate)&&(this.dateChange.emit(e.jsdate),this._onChange(e.jsdate),this._onTouched())},e.prototype.clearDate=function(){this.ngxdp&&(this.date=null,this.ngxdp.clearDate())},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.writeValue=function(e){this.model={jsdate:e}},e.decorators=[{type:f.Component,args:[{selector:"common-datepicker",template:'<div>\n    <label><span>{{labelText}}</span>\n        <div class="input-group">\n            \n                <input class="form-control" placeholder="YYYY/MM/DD"\n                ngx-mydatepicker name="datepicker-{{labelText}}"\n                [(ngModel)]="model"\n                [options]="datepickerOptions"\n                #dp="ngx-mydatepicker"\n                #dateEl=\'ngModel\'\n                (dateChanged)="onDateChanged($event)"\n                [required]=\'required\'\n                [disabled]="disabled"/>\n\n            <span class="input-group-append float-label-append">\n                <button type="button" class="btn btn-default" (click)="dp.toggleCalendar()">\n                    <i class="fa fa-calendar"></i>\n                </button>\n            </span>\n        </div>\n    </label>\n</div>\n\n\x3c!-- InvalidDateFormat comes from ngxmydatepicker, so we have a little less control over it. --\x3e\n<div *ngIf="!disabled && dateEl.touched"\n    role="alert"\n    class=\'error-container\'\n    aria-live="assertive">\n  <div class="text-danger"\n       *ngIf="(dateEl?.errors?.required) && errorMessages?.required && !dateEl?.errors?.invalidDateFormat">\n       {{errorMessages.required}}\n  </div>\n  \x3c!-- ngx-mydatepicker has it\'s own errors and we can\'t easily add our own, so we have reduced error messages. --\x3e\n  \x3c!-- <div class="text-danger"\n      *ngIf="dateEl?.errors?.dayOutOfRange && errorMessages?.dayOutOfRange">\n       {{errorMessages.dayOutOfRange}}\n  </div>\n  <div class="text-danger"\n       *ngIf="dateEl?.errors?.yearDistantPast && errorMessages?.yearDistantPast">\n       {{errorMessages.yearDistantPast}}\n  </div>\n  <div class="text-danger"\n       *ngIf="dateEl?.errors?.yearDistantFuture && errorMessages?.yearDistantFuture">\n       {{errorMessages.yearDistantFuture}}\n  </div>\n  <div class="text-danger"\n        *ngIf="dateEl?.errors?.noPastDatesAllowed && errorMessages?.noPastDatesAllowed">\n        {{errorMessages.noPastDatesAllowed}}\n  </div>\n  \n  <div class="text-danger"\n       *ngIf="dateEl?.errors?.noFutureDatesAllowed && errorMessages?.noFutureDatesAllowed">\n       {{errorMessages.noFutureDatesAllowed}}\n  </div> --\x3e\n  <div class="text-danger"\n       *ngIf="(dateEl?.errors?.invalidValue || dateEl?.errors?.invalidDateFormat) && errorMessages?.invalidValue">\n       {{errorMessages.invalidValue}}\n  </div>\n</div>',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],providers:[{provide:m.NG_VALUE_ACCESSOR,multi:!0,useExisting:f.forwardRef(function(){return e})}],styles:[".datepicker--mini{display:flex;flex-wrap:nowrap}.datepicker--mini:not(.hide-clear)>.btn{border-top-right-radius:0;border-bottom-right-radius:0}.datepicker--mini .input-group-append .btn{padding:0 .5rem}.input-group-append{z-index:0}.float-label-append{margin-bottom:calc(.5rem + 2px)}.has-float-label{flex-basis:calc(100% - 36px)}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={size:[{type:f.Input}],date:[{type:f.Input}],dateChange:[{type:f.Output}],disabled:[{type:f.Input}],labelText:[{type:f.Input}],required:[{type:f.Input}],disableUntil:[{type:f.Input}],disableSince:[{type:f.Input}],onlyFutureDates:[{type:f.Input}],clearButton:[{type:f.Input}],dateFormat:[{type:f.Input}],errorMessages:[{type:f.Input}],ngxdp:[{type:f.ViewChild,args:["dp"]}]},e}(),q={MINI:"mini",DEFAULT:"default"},V={WrongType:0,TooSmall:1,TooBig:2,AlreadyExists:3,Unknown:4,CannotOpen:5,PDFnotSupported:6,CannotOpenPDF:7};V[V.WrongType]="WrongType",V[V.TooSmall]="TooSmall",V[V.TooBig]="TooBig",V[V.AlreadyExists]="AlreadyExists",V[V.Unknown]="Unknown",V[V.CannotOpen]="CannotOpen",V[V.PDFnotSupported]="PDFnotSupported",V[V.CannotOpenPDF]="CannotOpenPDF";var j=function te(e,t){this.errorCode=e,this.errorDescription=t},A=function ne(){this.attachmentOrder=0,this.uuid=i.UUID.UUID()},L=function(){function t(e,t){this.widthFactor=e,this.heightFactor=t}return t.prototype.scaleDown=function(e){return new t(this.widthFactor*e,this.heightFactor*e)},t}(),N=c,_=p,B=u,U=function(a){function r(e,t,n,r){var o=a.call(this)||this;return o.zone=e,o.cd=t,o.router=n,o.controlContainer=r,o.noIdImage=!1,o.images=new Array(0),o.imagesChange=new f.EventEmitter,o.required=!1,o.instructionText="Please upload required ID documents.",o.errorMessages={required:"File is required."},o.errorDocument=new f.EventEmitter,o}return x(r,a),Object.defineProperty(r.prototype,"fileControl",{get:function(){var e="fileUploadBrowse-"+this.id;return this.controlContainer.controls[e]},enumerable:!0,configurable:!0}),r.checkImageExists=function(e,t){if(!t||t.length<1)return!1;for(var n=_(e.fileContent),r=t.length-1;0<=r;r--)if(t[r].id===n)return console.log("This file "+e.name+" has already been uploaded."),!0;return!1},r.prototype.forceRender=function(){this.zone.run(function(){})},r.prototype.ngOnChanges=function(e){console.log("fileuploader onChanges",e.images),e.images&&0===e.images.currentValue.length&&e.images.previousValue&&0<e.images.previousValue.length?this.noIdImage=!0:this.noIdImage=!1},r.prototype.ngOnInit=function(){var n=this;l.fromEvent(this.dropZone.nativeElement,"dragover").pipe(d.map(function(e){return event})).subscribe(function(e){e.preventDefault()});var e=l.fromEvent(this.dropZone.nativeElement,"drop").pipe(d.map(function(e){return e.preventDefault(),e.dataTransfer.files})),t=l.fromEvent(this.browseFileRef.nativeElement,"change");l.merge(l.merge(t).pipe(d.map(function(e){return e.preventDefault(),e.target.files})),e).pipe(d.filter(function(e){return console.log("files"),!!e&&e.length&&0<e.length}),d.flatMap(function(e){return n.observableFromFiles(e,new L(1,1))}),d.filter(function(e){var t=r.checkImageExists(e,n.images);return t&&(n.handleError(V.AlreadyExists,e),n.resetInputFields()),!t}),d.filter(function(e){var t=r.checkImageExists(e,n.images);return t&&(n.handleError(V.AlreadyExists,e),n.resetInputFields()),!t}),d.filter(function(e){var t=n.checkImageDimensions(e);return t||(n.handleError(V.TooSmall,e),n.resetInputFields()),t})).subscribe(function(e){n.handleImageFile(e),n.resetInputFields()},function(e){if(console.log("Error in loading image: %o",e),e.errorCode)if(V.TooBig===e.errorCode)n.handleError(V.TooBig,e.image);else if(V.CannotOpen===e.errorCode)e.image||(e.image=new A,e.rawImageFile&&(e.image.name=e.rawImageFile.name)),n.handleError(V.CannotOpen,e.image);else{if(V.CannotOpenPDF!==e.errorCode)throw e;n.handleError(V.CannotOpenPDF,e.image,e.errorDescription)}},function(){console.log("completed loading image")})},r.prototype.test=function(e){console.log(e)},r.prototype.ngAfterContentInit=function(){var t=this,e=l.merge(l.fromEvent(this.imagePlaceholderRef.nativeElement,"keyup"),l.fromEvent(this.selectFileLabelRef.nativeElement,"keyup")).pipe(d.filter(function(e){return"Enter"===e.key}));l.merge(l.fromEvent(this.imagePlaceholderRef.nativeElement,"click"),e).pipe(d.map(function(e){return e.preventDefault(),e})).subscribe(function(e){t.browseFileRef.nativeElement.click()})},r.prototype.observableFromFiles=function(n,o){var a=this;console.log("obserablveFromFiles");var i=this,s=Math.max.apply(Math,function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(I(arguments[t]));return e}(i.images.map(function(e){return e.attachmentOrder}),[0]))+1;return l.Observable.create(function(r){o=o.scaleDown(.8);for(var e=0;e<n.length;e++){var t=n[e];console.log("Start processing file "+e+" of "+n.length+" %s of size %s bytes %s type",t.name,t.size,t.type);"application/pdf"===t.type?a.readPDF(t,2,function(e,n){e.map(function(e,t){e.name=n.name,a.resizeImage(e,i,o,r,s,!0),s+=1})},function(e){console.log("error"+JSON.stringify(e));var t=new j(V.CannotOpenPDF,e);r.error(t)}):(a.readImage(t,s,function(e,t,n){e.id=t.name,a.resizeImage(e,i,o,r,n)},function(e){console.log("error"+JSON.stringify(e)),r.error(e)}),s+=1)}}).pipe(d.retryWhen(this.retryStrategy(32)))},r.prototype.resizeImage=function(e,n,t,l,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var d=new A,c=new FileReader;console.log("image.name:"+e.id),d.name=e.id,o&&(d.name=e.name+"-page"+r),d.attachmentOrder=r,d.naturalWidth=e.naturalWidth,d.naturalHeight=e.naturalHeight,console.log("image file natural height and width:\n            "+d.naturalHeight+" x "+d.naturalWidth),d.contentType="image/jpeg",console.log("Start scaling down the image using blueimp-load-image lib: ");N(e.src,function(e,t){if(e instanceof Event)return n.handleError(V.WrongType,d),void n.resetInputFields();e.toBlob(function(e){d.size=e.size;for(var t=d.name,n=d.size,r="",o=n+" bytes",a=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],i=0,s=n/1024;1<s;s/=1024,i++)o=s.toFixed(3)+" "+a[i]+" ("+n+" bytes)",s.toFixed(0),r=a[i],d.sizeUnit=r;console.log("File "+t+" is scaled down to: "+o),d.sizeTxt=o,c.onload=function(e){d.fileContent=e.target.result,d.id=_(d.fileContent);var t=1048576;if(d.size>t){console.log("File size after scaling down: %d, max file size allowed: %d",d.size,t);var n=new j(V.TooBig);n.maxSizeAllowed=t,n.commonImage=d,l.error(n)}else l.next(d)},c.readAsDataURL(e)},"image/jpeg",.5)},{maxWidth:2600*t.widthFactor,maxHeight:3300*t.heightFactor,contain:!0,canvas:!0,meta:!0,orientation:!0})},r.prototype.retryStrategy=function(r){return function(e){return e.pipe(d.scan(function(e,t,n){if(e<r&&t.errorCode===V.TooBig)return e+1;throw console.log("Re-throw this image process error: %o",t),t},0),d.delay(2))}},r.prototype.readImage=function(n,r,o,a){var i=new FileReader;i.onload=function(e){console.log("loading image into an img tag: %o",e);var t=document.createElement("img");t.src=i.result,t.onload=function(e){return console.log("Completed image loading into an img tag: %o",e),o(t,n,r)},t.onerror=function(e){console.log("This image cannot be opened/read, it is probably an invalid image. %o",e);var t=new j(V.CannotOpen);return t.rawImageFile=n,a(t)}},i.readAsDataURL(n)},r.prototype.readPDF=function(a,i,s,n){B.disableWorker=!0,B.disableStream=!0;var r=new FileReader,l=1,d=document.createElement("canvas"),c=[],p=d.getContext("2d");r.onload=function(e){var t={data:r.result};B.getDocument(t).then(function(e){var r=e.numPages;l<=e.numPages&&function o(){e.getPage(l).then(function(e){var t=e.getViewport(i);d.height=t.height,d.width=t.width;var n={canvasContext:p,viewport:t};e.render(n).then(function(){var e=document.createElement("img");e.src=d.toDataURL(),c.push(e),l<r?(l++,o()):s(c,a)})},function(e){n(e)})}()},function(e){n(e)})},r.readAsArrayBuffer(a)},r.prototype.makeGrayScale=function(e){for(var t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),r=n.data,o=0;o<r.length;o+=4){var a=.34*r[o]+.5*r[o+1]+.16*r[o+2];r[o]=a,r[o+1]=a,r[o+2]=a}t.putImageData(n,0,0)},r.prototype.handleImageFile=function(e){console.log("image size (bytes) after compression: "+e.size),50<=this.images.length?console.log("Max number of image file you can upload is 50.\n      This file "+e.name+" was not uploaded."):(this.images.push(e),this.imagesChange.emit(this.images),this.showError=!1,this.noIdImage=!1)},r.prototype.handleError=function(e,t,n){t||(t=new A),t.error=e,this.errorDocument.emit(t)},r.prototype.resetInputFields=function(){this.browseFileRef.nativeElement.value=""},r.prototype.deleteImage=function(t){this.resetInputFields(),this.images=this.images.filter(function(e){return e.uuid!==t.uuid}),this.imagesChange.emit(this.images),this.required&&this.images.length<=0&&(console.log("No images, resetting input"),this.fileControl.setErrors({required:!0}))},r.prototype.logImageInfo=function(e,t,n,r){},r.prototype.checkImageDimensions=function(e){return!(e.naturalHeight<0||e.naturalWidth<0)},r.prototype.isValid=function(){return console.log("isValid",this.images),!this.required||this.images&&0<this.images.length},r.decorators=[{type:f.Component,args:[{selector:"common-file-uploader",template:'<div class="dropzone" #dropZone [ngClass]=\'{"has-error": fileControl?.touched && fileControl?.errors?.required}\'>\n\n  <div class="instruction-zone d-flex align-items-center flex-wrap flex-sm-nowrap flex-column flex-sm-row">\n    <i class="fa fa-cloud-upload fa-4x d-inline-block upload-icon" aria-hidden="true" #imagePlaceholderRef tabindex="0"></i>\n\n    <input type="file" id="fileUploadBrowse-{{id}}" #browseFileRef ngModel accept="image/*,application/pdf" style="display:none;"\n            tabindex="0" multiple name=\'fileUploadBrowse-{{id}}\' [required]=\'required && images.length === 0\' />\n    <label for="fileUploadBrowse-{{id}}" class="file-upload-label d-inline-block ml-3" #selectFileLabel tabindex="0">\n      <span class=\'h2 color-body\'>Select a file</span>\n      <span class=\'d-block description\'>{{ instructionText }}</span>\n    </label>\n    \n    \x3c!-- TODO - STYLE/ENABLE/TEST THE BELOW FOR MOBILE ONLY! Also need to test on a phone after deploying to OpenShift--\x3e\n    \x3c!-- <span class="d-block d-sm-none">or</span>\n    <input type="file" id="fileUploadUseCamera-{{id}}" #captureFileRef accept="image/*,application/pdf" capture="camera"\n            tabindex="0" multiple />\n    <span class="fa fa-camera d-block d-sm-none fa-4x" aria-hidden="true"></span>\n    <label for="fileUploadUseCamera-{{id}}" class="file-upload-label description d-block d-sm-none" tabindex="0">\n      take a photo\n    </label> --\x3e\n    \n  </div>\n  \n  <div *ngIf="fileControl?.touched" role="alert" class=\'error-container\' aria-live="assertive">\n    <div class="text-danger" *ngIf="fileControl?.errors?.required">\n      {{errorMessages.required}}\n    </div>\n  </div>\n\n  <div class="preview-zone">\n    <div *ngFor="let mspImage of images" class="preview-item">\n      <common-thumbnail [imageObject]="mspImage" (deleteImage)="deleteImage($event)">\n      </common-thumbnail>\n    </div>\n  </div>\n\n  \x3c!-- The sole purpose of this element is to maintain the drop zone to an \n        large size to display on screen.\n      --\x3e\n  <div class="preview-zone">\n    <div class="preview-item">\n    </div>\n  </div>\n\n</div>\n\n\x3c!-- This hidden canvas is used to transform / resize images --\x3e\n<canvas #canvas style="display:none;">\n\n</canvas>\n',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],styles:[".color-body{color:#494949}.description{font-weight:400}.dropzone{border:2px dashed #d3d3d3;margin-bottom:10px;border-radius:8px;padding:2em 4em}.dropzone.has-error{border-color:#a94442}.dropzone .instruction-zone{margin:10px 5px 5px;text-align:left}.dropzone .instruction-zone input{display:none}.dropzone .instruction-zone .file-upload-label{color:#494949}.dropzone .instruction-zone .file-upload-label:hover{text-decoration:none;cursor:pointer}.dropzone .preview-zone{display:flex;flex-wrap:wrap;justify-content:left;align-items:left}.dropzone .preview-zone .preview-item{position:relative;height:120px;text-align:left;margin-left:6rem;margin-bottom:1.5rem}.dropzone .preview-zone .preview-item .icon-upload{opacity:.3;margin:0 auto 15px}.dropzone .preview-zone .preview-item .icon-upload:hover{cursor:pointer;opacity:.6}.dropzone .preview-zone .preview-item .text-upload:hover{cursor:pointer}.dropzone .preview-zone .error-style{color:red;font-weight:700}.dropzone .mobileShow{display:none}@media only screen and (min-device-width:320px) and (max-device-width:480px){.dropzone .mobileShow{display:inline}}"]}]}],r.ctorParameters=function(){return[{type:f.NgZone},{type:f.ChangeDetectorRef},{type:s.Router},{type:m.ControlContainer}]},r.propDecorators={dropZone:[{type:f.ViewChild,args:["dropZone"]}],browseFileRef:[{type:f.ViewChild,args:["browseFileRef"]}],imagePlaceholderRef:[{type:f.ViewChild,args:["imagePlaceholderRef"]}],selectFileLabelRef:[{type:f.ViewChild,args:["selectFileLabel"]}],images:[{type:f.Input}],imagesChange:[{type:f.Output}],id:[{type:f.Input}],showError:[{type:f.Input}],required:[{type:f.Input}],instructionText:[{type:f.Input}],errorMessages:[{type:f.Input}],canvas:[{type:f.ViewChild,args:["canvas"]}],errorDocument:[{type:f.Output}]},r}(C),W=function(){function e(e){this.reviewMode=!1,this.deleteImage=new f.EventEmitter,this.scaledWidth=300,this.viewContainerRef=e}return e.prototype.ngOnInit=function(){var e=(180*this.imageObject.naturalWidth/this.imageObject.naturalHeight).toFixed(0);this.scaledWidth=parseInt(e,10),250<this.scaledWidth?this.scaledWidth=250:this.scaledWidth<30&&(this.scaledWidth=100),isNaN(this.scaledWidth)&&(this.scaledWidth=300)},e.prototype["delete"]=function(e){console.log("ThumbnailComponent:Delete from thumbnail: %o",e),console.log("ThumbnailComponent:imageObject:",JSON.stringify(this.imageObject,null,2)),this.deleteImage.emit(this.imageObject)},e.prototype.showFullSizeView=function(){this.fullSizeViewModal.config.backdrop=!1,this.fullSizeViewModal.show()},e.prototype.hideFullSizeView=function(){this.fullSizeViewModal.hide()},e.decorators=[{type:f.Component,args:[{selector:"common-thumbnail",template:'<div class="thumbnail-container">\n  <img [src]="imageObject.fileContent" alt="" tabindex="0"\n    [ngClass]="{\'image-thumbnail\': scaledWidth <= 300, \'image-thumbnail-width-priority\': scaledWidth > 300}"\n    (click)="showFullSizeView()">\n  <div class="action-strip" *ngIf="!reviewMode">\n    <a href="javascript:void(0)" (click)="delete($event)" class=\'text-danger\' tabindex="0">Remove</a>\n  </div>\n</div>\n\n<div bsModal #fullSizeViewModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\n  <div class="modal-dialog modal-lg">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h4 class="modal-title">{{imageObject.name}}</h4>\n        <button type="button" class="close" (click)="hideFullSizeView()" aria-label="Close">\n          <span aria-hidden="true">&times;</span>\n        </button>\n      </div>\n      <div class="modal-body">\n        <div class="row">\n          <div class="col-md-12" >\n            <img [src]="imageObject.fileContent" alt="{{imageObject.name}}" class="center-block img-fluid">\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>',styles:[".thumbnail-container{transition:.3s;-webkit-transform:translateY(0);transform:translateY(0)}.thumbnail-container .image-thumbnail,.thumbnail-container .image-thumbnail-width-priority{padding:2px 2px 0;border-radius:5px 5px 0 0}.thumbnail-container .image-thumbnail-width-priority:hover,.thumbnail-container .image-thumbnail:hover{cursor:zoom-in}.thumbnail-container .image-thumbnail{max-height:100px;height:auto;max-width:100%}.thumbnail-container .image-thumbnail-width-priority{max-width:270px;width:auto;max-height:100%}.thumbnail-container:hover{box-shadow:0 15px 10px -10px rgba(0,0,0,.1);-webkit-transform:translateY(-5px);transform:translateY(-5px)}.thumbnail-container:hover .action-strip{background:#ececec}.thumbnail-container .action-strip{height:2em;border-radius:0 0 5px 5px;text-align:right;font-size:small;margin:0 2px;color:#a94442;padding:.3em;transition:.3s}.thumbnail-container .action-strip a{text-decoration:none}"]}]}],e.ctorParameters=function(){return[{type:f.ViewContainerRef}]},e.propDecorators={imageObject:[{type:f.Input}],reviewMode:[{type:f.Input}],deleteImage:[{type:f.Output}],fullSizeViewModal:[{type:f.ViewChild,args:["fullSizeViewModal"]}]},e}(),Y=function(){function e(){this.submitLabel="Continue",this.canContinue=!0,this.isLoading=!1,this.defaultColor=!0,this.btnClick=new f.EventEmitter,this.increaseWidth=!1}return e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-form-submit-bar",template:'<div class="form-action-bar form-bar" [ngClass]="{disabled: !canContinue, \'mx-lg-n5 mx-md-n3 mb-n3 mt-3\': increaseWidth}">\n        <button class="btn btn-lg {{defaultColor ? \'btn-primary\' : \'btn-secondary\' }} submit"\n                [ngClass]="{disabled: !canContinue || isLoading}"\n                type=\'submit\'>\n          <ng-container *ngIf="!isLoading; else loadingSpinner"> {{submitLabel}} </ng-container>\n          \n        </button>\n    </div>\n    \n    <ng-template #loadingSpinner>\n        <i class="fa fa-spinner fa-pulse fa-fw"></i>\n    </ng-template>',viewProviders:[{provide:m.ControlContainer,useExisting:f.forwardRef(function(){return m.NgForm})}],styles:[".form-action-bar{display:flex;justify-content:flex-end;padding:1em;background-color:#cdd9e4;transition:background-color .3s;position:-webkit-sticky;position:sticky;bottom:0;z-index:10;left:5rem;right:5rem}.form-action-bar.disabled{background-color:#d5d9dd}@media (max-width:991.98px){.form-action-bar{left:2.5rem;right:2.5rem}}.submit{min-width:240px}@media (max-width:767.98px){.form-action-bar{left:0;right:0}.submit{min-width:100%}}.btn{white-space:normal!important;word-wrap:break-word}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={submitLabel:[{type:f.Input}],canContinue:[{type:f.Input}],isLoading:[{type:f.Input}],defaultColor:[{type:f.Input}],btnClick:[{type:f.Output}],increaseWidth:[{type:f.Input}]},e}(),$=/[A-Z]/i,H=/\d/,Z=function(t){function e(){var e=t.call(this)||this;return e.valueChange=new f.EventEmitter,e.disabled=!1,e.required=!0,e}return x(e,t),e.prototype.upperCasePipe=function(e){return e.toUpperCase()},e.prototype.onUpdate=function(e){this.valueChange.emit(e)},e.propDecorators={value:[{type:f.Input}],valueChange:[{type:f.Output}],disabled:[{type:f.Input}],required:[{type:f.Input}]},e}(C),G=function(t){function e(){var e=t.call(this)||this;return e.label="Postal Code",e.displayMask=!0,e.maxlen="250",e.placeholder="A1A 1A1",e.pcFormat=/^[A-Za-z][0-9][A-Za-z]\s?[0-9][A-Za-z][0-9]$/,e.mask=[$,H,$," ",H,$,H],e}return x(e,t),e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-postal-code",template:'<label class="control-label">{{label}}</label>\n<div *ngIf="displayMask; else NoMask">\n<input #postalRef="ngModel"\n       class="form-control"\n       spellcheck="false"\n       type="text"\n       id="postalCode_{{objectId}}"\n       name="postalCode_{{objectId}}"\n       [placeholder]="placeholder"\n       [ngModel]="value"\n       (ngModelChange)="onUpdate($event)"\n       [textMask]="{mask: mask, pipe: upperCasePipe}"\n       [pattern]=\'pcFormat\'\n       [required]="required"\n       [disabled]="disabled" />\n\n  \x3c!-- Error messages for input --\x3e\n  <div *ngIf="!disabled && postalRef.touched"\n        role="alert"\n        class="error-container"\n        aria-live="assertive">\n    <div class="text-danger" *ngIf="postalRef?.errors?.required">\n      {{label}} is required.\n    </div>\n    <div class="text-danger" *ngIf="postalRef?.errors?.pattern">\n      Must be in the format {{placeholder}}.\n    </div>\n  </div>\n</div>\n\n<ng-template #NoMask>\n  <input class="form-control"\n         #postalRef="ngModel"\n         spellcheck="false"\n         type="text"\n         id="postalCode_{{objectId}}"\n         name="postalCode_{{objectId}}"\n         [ngModel]="value"\n         (ngModelChange)="onUpdate($event)"\n         [required]="required"\n         [disabled]="disabled"\n         maxlength="{{maxlen}}"/>\n\n  \x3c!-- Error messages for input --\x3e\n  <div *ngIf="!disabled && postalRef.touched"\n        role="alert"\n        class="error-container"\n        aria-live="assertive">\n    <div class="text-danger" *ngIf="postalRef?.errors?.required">\n      Postal Code is required.\n    </div>\n  </div>\n</ng-template>\n',viewProviders:[{provide:m.ControlContainer,useExisting:m.NgForm}],styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={label:[{type:f.Input}],displayMask:[{type:f.Input}],maxlen:[{type:f.Input}],placeholder:[{type:f.Input}]},e}(Z),J=function(){function e(){this.layout="tips"}return e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-page-section",template:'<div class="row" [ngSwitch]="layout">\n\n  <ng-container *ngSwitchCase="\'tips\'">\n    <div class="col-md-8">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </div>\n    <div class="col-md-4 aside-col">\n      <ng-container *ngTemplateOutlet="aside"></ng-container>\n    </div>\n  </ng-container>\n\n  <ng-container *ngSwitchCase="\'double\'">\n    <div class="col-md-6">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </div>\n    <div class="col-md-6">\n      <ng-container *ngTemplateOutlet="aside"></ng-container>\n    </div>\n  </ng-container>\n\n  <ng-container *ngSwitchCase="\'noTips\'">\n      <div class="col-md-12">\n      <ng-container *ngTemplateOutlet="content"></ng-container>\n    </div>\n  </ng-container>\n\n</div>\n\n\x3c!-- We use ng-template here to get around a bug with having multiple ng-contents in one template. By default, if there are duplicate ng-contents in a template Angular will select the very first one - even if latter ones are \'removed\' by ngSwitch or ngIf.--\x3e\n<ng-template #content>\n  <ng-content></ng-content>\n</ng-template>\n\n<ng-template #aside>\n  <ng-content select=\'aside\'></ng-content>\n</ng-template>\n',encapsulation:f.ViewEncapsulation.None,styles:['common-page-section{display:block}.h5,h5{font-size:1rem;font-weight:700;margin-bottom:0}p+.h5,p+h5{margin-top:1.5rem}.aside-col aside{background:#f2f2f2;padding:1em;border-radius:5px}@media (min-width:768px){.aside-col aside{margin-top:1rem}}.aside-col aside ul{padding-left:0;list-style-type:none}.aside-col aside ul>li:before{content:" - ";text-indent:-5px}']}]}],e.ctorParameters=function(){return[]},e.propDecorators={layout:[{type:f.Input}]},e}(),X=function(){function e(){this.items=[],this.label="Default label",this.addTag=!1,this.addTagText="Add",this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.ngOnInit=function(){},e.prototype.writeValue=function(e){this.model=e},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.decorators=[{type:f.Component,args:[{selector:"common-dropdown",template:"<ng-select name='{{label}}'\n           labelForId='{{label}}'\n           [ngModel]='model'\n           (ngModelChange)='model=$event;'\n           [items]='items'\n           placeholder='{{ placeholder }}'\n           autoCorrect='{{ autocorrect }}'\n           addTag={{addTag}}\n           addTagText='Add question'\n           [required]='required'\n           (change)='_onChange($event)'\n           (blur)='_onTouched()'\n           (close)='_onTouched()'></ng-select>",providers:[{provide:m.NG_VALUE_ACCESSOR,multi:!0,useExisting:f.forwardRef(function(){return e})}],styles:[""]}]}],e.ctorParameters=function(){return[]},e.propDecorators={items:[{type:f.Input}],label:[{type:f.Input}],placeholder:[{type:f.Input}],autocorrect:[{type:f.Input}],addTag:[{type:f.Input}],addTagText:[{type:f.Input}],required:[{type:f.Input}]},e}(),K=function(t){function e(){var e=t.call(this)||this;return e.dataChange=new f.EventEmitter,e}return x(e,t),e.prototype.ngOnInit=function(){},e.decorators=[{type:f.Component,args:[{selector:"common-toggle",template:'<fieldset class="p-sm-1">\n   <legend class="toggle--legend">{{label}}</legend>\n   <div class="custom-radio custom-control custom-control-inline">\n      <input class="custom-control-input "\n         type="radio"\n         id="no_{{objectId}}"\n         name="selection_{{objectId}}"\n         value="No"\n         [checked]="data === false"\n         (click)="dataChange.emit(false)">\n      <label class="custom-control-label" for="no_{{objectId}}">No</label>\n   </div>\n   <div class="custom-radio custom-control custom-control-inline">\n      <input class="custom-control-input"\n         type="radio"\n         id="yes_{{objectId}}"\n         name="selection_{{objectId}}"\n         value="Yes"\n         [checked]="data === true"\n         (click)="dataChange.emit(true)">\n      <label class="custom-control-label" for="yes_{{objectId}}">Yes</label>\n   </div>\n</fieldset>\n\n',styles:[".toggle--legend{font-size:inherit;font-weight:700}.custom-control{padding-right:1.5rem;padding-left:0}.custom-control-label{cursor:pointer}.custom-radio .custom-control-label::before{border:1.5px solid #000}.custom-control-label::before{top:0;width:1.3rem;height:1.3rem;background-color:#fcfcfc;left:1.75rem}.custom-control-label::after{top:0;width:1.3rem;height:1.3rem;left:1.75rem}.custom-radio .custom-control-input:checked~.custom-control-label::before{background-color:#fcfcfc;border-color:#036}.custom-control-input:checked~.custom-control-label::before{color:#fcfcfc;background-color:#fcfcfc;border-color:#036}.custom-radio .custom-control-input:checked~.custom-control-label::after{background-image:url(\"data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-3.75 -3.75 8.25 8.25'%3E%3Ccircle r='3.5' fill='%23000099'/%3E%3C/svg%3E\")!important}"]}]}],e.ctorParameters=function(){return[]},e.propDecorators={data:[{type:f.Input}],label:[{type:f.Input}],dataChange:[{type:f.Output}]},e}(C),Q=function(){function e(){}return e.decorators=[{type:f.NgModule,args:[{imports:[t.CommonModule,m.FormsModule,r.ProgressbarModule.forRoot(),s.RouterModule,a.NgxMyDatePickerModule.forRoot(),r.ModalModule.forRoot(),g.TextMaskModule,h.NgSelectModule],declarations:[b,y,v,M,k,E,R,S,z,P,U,W,Y,G,J,X,K],exports:[b,y,v,M,k,E,R,S,z,P,U,W,Y,G,J,X,K],providers:[m.NgForm]}]}],e}();e.SharedCoreModule=Q,e.a=b,e.i=S,e.g=E,e.h=R,e.j=z,e.k=P,e.r=X,e.l=U,e.b=y,e.n=Y,e.c=v,e.q=J,e.d=M,e.o=G,e.m=W,e.s=K,e.f=k,e.e=C,e.p=Z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=moh-common-lib.umd.min.js.map